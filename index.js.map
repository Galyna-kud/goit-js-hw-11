{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from \"axios\";\n\n\nconst BASE_URL = \"https://pixabay.com/api/\";\nconst API_KEY = \"54692285-0e8498ada734ef5e15a7b52ba\";\n\nexport function getImagesByQuery(query) {\n    return axios(BASE_URL, {\n        params: {\n            key: API_KEY,\n            q: query,\n            image_type: \"photo\",\n            orientation: \"horizontal\",\n            safesearch: true\n        }\n    }).then(res => res.data.hits)\n}","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\n\nconst ulCard = document.querySelector(\".gallery\");\nconst loader = document.querySelector(\".loader\");\n\nconst lightBox = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionPosition: 'bottom',\n  captionDelay: 250\n})\n\nfunction createMarkup(arr) {\n    return arr.map(({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => \n        `<li class=\"list-item\">\n            <a href=\"${largeImageURL}\">\n                <img src=\"${webformatURL}\" alt=\"${tags}\"  width=\"360\"/>\n            </a>\n\n            <div class=\"wrapper\">\n                <h3 class=\"wrapper-text\">Likers <span class=\"wrapper-span\">${likes}</span></h3>\n                <h3 class=\"wrapper-text\">Views <span class=\"wrapper-span\">${views}</span></h3>\n                <h3 class=\"wrapper-text\">Comments <span class=\"wrapper-span\">${comments}</span></h3>\n                <h3 class=\"wrapper-text\">Downloads <span class=\"wrapper-span\">${downloads}</span></h3>\n            </div>\n        </li>`\n    ).join(\"\");\n\n}\n\nexport function createGallery(images) {\n    ulCard.innerHTML = createMarkup(images);\n    lightBox.refresh();\n}\n\nexport function clearGallery() {\n    ulCard.innerHTML = '';\n}\n\nexport function showLoader() {\n    loader.classList.remove(\"hidden\");\n}\n\nexport function hideLoader() {\n    loader.classList.add(\"hidden\");\n}","import { getImagesByQuery } from \"./js/pixabay-api\";\nimport { createGallery, clearGallery, showLoader, hideLoader } from \"./js/render-functions\";\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n\nconst form = document.querySelector(\".form\");\nconst input = document.querySelector('.input');\n\nform.addEventListener(\"submit\", handleSubmit);\n\nfunction handleSubmit(event) {\n    event.preventDefault();\n\n    const inputValue = input.value;\n    \n    if (!inputValue.trim()) {\n        iziToast.error({\n                    title: 'Error',\n                    message: 'Sorry, you send empty filed',\n                    position:'topRight'\n        });\n\n        return;\n    }\n\n    clearGallery();\n    showLoader();\n    \n    \n    getImagesByQuery(inputValue)\n        .then((res) => {\n            \n            if (res.length === 0) {\n                iziToast.error({\n                    title: 'Error',\n                    message: 'Sorry, there are no images matching your search query. Please try again!',\n                    position:'topRight'\n                });\n            } else {\n                createGallery(res);\n                event.target.reset()\n                \n            }\n        })\n        .catch((error) => {\n            iziToast.error({\n                    title: 'Error',\n                    message: `Sorry, error is ${error.message}`,\n                    position:'topRight'\n            });\n        })\n        .finally(() => {\n            hideLoader();\n        })\n    \n}"],"names":["BASE_URL","API_KEY","getImagesByQuery","query","axios","res","ulCard","loader","lightBox","SimpleLightbox","createMarkup","arr","webformatURL","largeImageURL","tags","likes","views","comments","downloads","createGallery","images","clearGallery","showLoader","hideLoader","form","input","handleSubmit","event","inputValue","iziToast","error"],"mappings":"owBAGA,MAAMA,EAAW,2BACXC,EAAU,qCAET,SAASC,EAAiBC,EAAO,CACpC,OAAOC,EAAMJ,EAAU,CACnB,OAAQ,CACJ,IAAKC,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACf,CACJ,CAAA,EAAE,KAAKE,GAAOA,EAAI,KAAK,IAAI,CAChC,CCZA,MAAMC,EAAS,SAAS,cAAc,UAAU,EAC1CC,EAAS,SAAS,cAAc,SAAS,EAEzCC,EAAW,IAAIC,EAAe,aAAc,CAChD,aAAc,MACd,gBAAiB,SACjB,aAAc,GAChB,CAAC,EAED,SAASC,EAAaC,EAAK,CACvB,OAAOA,EAAI,IAAI,CAAC,CAAE,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAW,IACpF;AAAA,uBACeL,CAAa;AAAA,4BACRD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA,6EAIuBC,CAAK;AAAA,4EACNC,CAAK;AAAA,+EACFC,CAAQ;AAAA,gFACPC,CAAS;AAAA;AAAA,cAGzF,EAAM,KAAK,EAAE,CAEb,CAEO,SAASC,EAAcC,EAAQ,CAClCd,EAAO,UAAYI,EAAaU,CAAM,EACtCZ,EAAS,QAAO,CACpB,CAEO,SAASa,GAAe,CAC3Bf,EAAO,UAAY,EACvB,CAEO,SAASgB,GAAa,CACzBf,EAAO,UAAU,OAAO,QAAQ,CACpC,CAEO,SAASgB,GAAa,CACzBhB,EAAO,UAAU,IAAI,QAAQ,CACjC,CCvCA,MAAMiB,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAQ,SAAS,cAAc,QAAQ,EAE7CD,EAAK,iBAAiB,SAAUE,CAAY,EAE5C,SAASA,EAAaC,EAAO,CACzBA,EAAM,eAAc,EAEpB,MAAMC,EAAaH,EAAM,MAEzB,GAAI,CAACG,EAAW,OAAQ,CACpBC,EAAS,MAAM,CACH,MAAO,QACP,QAAS,8BACT,SAAS,UAC7B,CAAS,EAED,MACH,CAEDR,IACAC,IAGApB,EAAiB0B,CAAU,EACtB,KAAMvB,GAAQ,CAEPA,EAAI,SAAW,EACfwB,EAAS,MAAM,CACX,MAAO,QACP,QAAS,2EACT,SAAS,UAC7B,CAAiB,GAEDV,EAAcd,CAAG,EACjBsB,EAAM,OAAO,MAAO,EAGpC,CAAS,EACA,MAAOG,GAAU,CACdD,EAAS,MAAM,CACP,MAAO,QACP,QAAS,mBAAmBC,EAAM,OAAO,GACzC,SAAS,UAC7B,CAAa,CACb,CAAS,EACA,QAAQ,IAAM,CACXP,GACZ,CAAS,CAET"}